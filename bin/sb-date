#!/bin/sh
# Display the current time in HH:MM:SS.

notify() {
    notify-send --icon=office-calendar-symbolic \
        --hint=string:x-canonical-private-synchronous:"$1" "$@"
}

case $BLOCK_BUTTON in
    1)
        # Use perl to convert cal's reverse-video ANSI escapes to bold markup
        notify "This Month" "$(cal --color=always | perl -pe 's/\e\[7m/<b>/g; s/\e\[0m/<\/b>/g')"
        ;;
    4) notify --urgency=critical "Winti to Baden" "<tt>$(fahrplan from Winterthur to Baden)</tt>" ;;
    5) notify --urgency=critical "Baden to Winti" "<tt>$(fahrplan from Baden to Winterthur)</tt>" ;;
    6) sensible-terminal.sh -e "$EDITOR" "$0" ;;
esac

. sb-theme
display "ó°¥”  $(date '+%a %d.%m.%y %H:%M:%S')"
